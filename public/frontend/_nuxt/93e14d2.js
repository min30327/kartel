(window.webpackJsonp=window.webpackJsonp||[]).push([[15,8],{400:function(e,t,r){var content=r(402);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(33).default)("8b8bb2f8",content,!0,{sourceMap:!1})},401:function(e,t,r){"use strict";r(400)},402:function(e,t,r){var o=r(32)(!1);o.push([e.i,".c-public__loading--wrapper{position:absolute;left:0;top:0;width:100%;height:100%;z-index:10}.c-public__loading{position:absolute;left:50%;top:50%;margin-left:-10px;margin-top:-10px;width:20px;height:20px;z-index:11}.c-public__loading i{font-size:1.2rem;color:#0dcaf0;-webkit-animation:loadingSpinner .5s cubic-bezier(.19,1,.22,1) 0s infinite;animation:loadingSpinner .5s cubic-bezier(.19,1,.22,1) 0s infinite}@-webkit-keyframes loadingSpinner{to{transform:rotate(1turn)}}@keyframes loadingSpinner{to{transform:rotate(1turn)}}",""]),e.exports=o},403:function(e,t,r){"use strict";r.r(t);r(401);var o=r(7),component=Object(o.a)({},(function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"c-public__loading--wrapper"},[t("div",{staticClass:"c-public__loading"},[t("i",{staticClass:"fad fa-spinner-third"})])])}],!1,null,null,null);t.default=component.exports},421:function(e,t,r){var content=r(443);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(33).default)("39a8f044",content,!0,{sourceMap:!1})},442:function(e,t,r){"use strict";r(421)},443:function(e,t,r){var o=r(32)(!1);o.push([e.i,"#p-reset[data-v-c425e780]{position:relative;display:flex;flex-direction:column;flex-wrap:wrap;padding:220px 0 100px}@media (max-width:991px){#p-reset[data-v-c425e780]{padding:120px 0 100px}}#p-reset .p-reset__wrapper[data-v-c425e780]{flex:1 0 auto;position:relative;z-index:1;width:95%;max-width:100%;margin:0 auto;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;padding-left:25px;padding-right:25px}@media (min-width:1200px){#p-reset .p-reset__wrapper[data-v-c425e780]{width:100%;max-width:1200px}}@media (max-width:991px){#p-reset .p-reset__wrapper[data-v-c425e780]{display:block}}@media (max-width:320px){#p-reset .p-reset__wrapper[data-v-c425e780]{width:100%}}#p-reset .p-reset__title[data-v-c425e780]{font-size:1.1rem;font-weight:500;margin-bottom:20px;color:#898ba3}#p-reset .p-reset__content[data-v-c425e780]{max-width:400px;width:100%;margin:0 auto}@media (max-width:991px){#p-reset .p-reset__content[data-v-c425e780]{margin:40px auto}}#p-reset .p-reset__card[data-v-c425e780]{position:relative}#p-reset .p-reset__card .p-reset__error[data-v-c425e780]{font-size:.8rem;position:relative;top:-10px;color:#ea4557}#p-reset .p-reset__card .p-reset__card--body[data-v-c425e780]{padding:40px}@media (max-width:575px){#p-reset .p-reset__card .p-reset__card--body[data-v-c425e780]{padding:40px 25px}}@media (max-width:320px){#p-reset .p-reset__card .p-reset__card--body[data-v-c425e780]{padding:30px 25px}}#p-reset .p-reset__card .p-reset__form--submit[data-v-c425e780]{padding-top:10px}@media (max-width:320px){#p-reset .p-reset__card .p-reset__form--submit[data-v-c425e780]{padding:0}}#p-reset .p-reset__card .p-reset__form--supply[data-v-c425e780]{font-size:.8rem;text-align:center}#p-reset .p-reset__card .alert.alert-success[data-v-c425e780]{text-align:center}#p-reset .p-reset__card .p-reset__form--return[data-v-c425e780]{padding:30px 0 10px;text-align:center;font-size:12px;line-height:1.4}#p-reset .p-reset__footer[data-v-c425e780]{flex:0 0 90px;position:relative;z-index:1;width:100%;background:#fff;line-height:90px;text-align:center;padding-left:25px;padding-right:25px}#p-reset .p-reset__footer svg[data-v-c425e780]{position:relative;top:-3px;height:29px!important}",""]),e.exports=o},485:function(e,t,r){"use strict";r.r(t);var o=r(2),n=(r(15),r(8),r(13),r(17),r(253),r(254),r(28),r(54),{layout:"auth",head:function(){return{title:"パスワードのリセット｜"}},data:function(){return{processing:!1,response:{status:"",message:""},error:!1,unmatch:!1,message:"",success:!1,email:"",password:"",password_confirmation:""}},mounted:function(){this.$auth.loggedIn&&(this.email=this.$auth.user.email)},methods:{_reset:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.error=!1,e.unmatch=!1,e.success=!1,!e.validate()){t.next=6;break}return e.unmatch=!0,t.abrupt("return",!1);case 6:return t.prev=6,e.processing=!0,(r=new URLSearchParams).append("email",e.email),r.append("password",e.password),r.append("password_confirmation",e.password_confirmation),r.append("token",e.$route.query.key),t.next=15,e.$axios.post("/Users/password/reset/"+e.$route.query.key,r).then((function(t){e.response=t.data,"success"==t.data.status?e.success=!0:e.error=!0,e.processing=!1}));case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(6),console.log(t.t0),e.processing=!1;case 21:case"end":return t.stop()}}),t,null,[[6,17]])})))()},validate:function(){return""==this.email?(this.message="メールアドレスが空です。",!0):""==this.password||""==this.password_confirmation?(this.message="値が空です。",!0):this.password!=this.password_confirmation?(this.message="パスワードが一致しませんでした。",!0):!new RegExp(/^[a-z\d]{6,9999}$/i).test(this.password)&&(this.message="パスワードは6文字以上で入力してください。",!0)}}}),c=(r(442),r(7)),component=Object(c.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"p-reset"}},[r("div",{staticClass:"p-reset__wrapper"},[r("div",{staticClass:"p-reset__content"},[r("div",{staticClass:"c-card__shadow"},[r("div",{staticClass:"c-card p-reset__card"},[e.processing?r("loading"):e._e(),e._v(" "),e.success?e._e():r("form",{on:{submit:function(t){return t.preventDefault(),e._reset.apply(null,arguments)}}},[r("div",{staticClass:"p-reset__card--body"},[r("h3",{staticClass:"p-reset__title"},[e._v("パスワードのリセット")]),e._v(" "),e.error?r("div",{staticClass:"p-email__error"},[r("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v("\n                                    リセットに失敗しました。"),r("br"),e._v("\n                                    もう一度 "),r("n-link",{attrs:{to:"/password/forgot"}},[e._v("こちら")]),e._v(" から試してみてください。\n                                ")],1)]):e._e(),e._v(" "),e.unmatch?r("div",{staticClass:"p-email__error"},[r("div",{staticClass:"alert alert-danger",attrs:{role:"alert"},domProps:{textContent:e._s(e.message)}})]):e._e(),e._v(" "),r("div",{staticClass:"c-form__row p-reset__form--group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"c-form__control p-reset__form--control c-admin__input",attrs:{type:"text",placeholder:"メールアドレス",name:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"c-form__row p-reset__form--group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"c-form__control p-reset__form--control c-auth__input",attrs:{type:"password",placeholder:"パスワード",name:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"c-form__row p-reset__form--group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.password_confirmation,expression:"password_confirmation"}],staticClass:"c-form__control p-reset__form--control c-auth__input",attrs:{type:"password",placeholder:"パスワード確認用",name:"password_confirmation"},domProps:{value:e.password_confirmation},on:{input:function(t){t.target.composing||(e.password_confirmation=t.target.value)}}})]),e._v(" "),e._m(0),e._v(" "),r("div",{staticClass:"p-reset__form--supply"},[r("n-link",{attrs:{to:"/login"}},[e._v("ログイン画面へ戻る")])],1)])]),e._v(" "),e.success?r("div",[r("div",{staticClass:"p-reset__card--body"},[r("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[e._v("\n                                パスワードを変更しました。\n                            ")]),e._v(" "),r("div",{staticClass:"form-group p-reset__form--group"},[r("div",{staticClass:"p-reset__form--return"},[r("n-link",{staticClass:"btn btn-primary btn-block c-auth__button",attrs:{to:"/login"}},[e._v("ログイン画面へ戻る")])],1)])])]):e._e()],1)])])])])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"c-form__row p-reset__form--group p-reset__form--submit"},[r("button",{staticClass:"c-button__reset c-button__primary c-button__block c-button__submit"},[r("span",[e._v("パスワードのリセット")])])])}],!1,null,"c425e780",null);t.default=component.exports;installComponents(component,{Loading:r(403).default})}}]);